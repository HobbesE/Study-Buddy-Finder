{% extends "base.html" %}
{% block content %}
    
    <head>
            <title>
                Hackbrighter Study Session
            </title>
        
            <style>
                
                /* Create two equal columns that floats next to each other */
                .column {
                  float: left;
                  width: 50%;
                  padding: 30px;
                  height: 300px; /* Should be removed. Only for demonstration */
                  flex: 50%;
                }
                
                /* Clear floats after the columns */
                .row {
                  content: "";
                  display: flex;
                }
            </style>
    </head>   
<body>
    
    <div class="container">
        <div class="row p-5 navbar navbar-light">
            <div class="col-6 page-heading">Study Session Details: "{{ study_session.topic }}"</div>
            <div class="col-1"> 
                <ul class="navbar-nav ms-auto text-center">
                    <li>
                        <!-- <form method="get" action="/create_opportunity">
                        <button class="nbtn btn-warning btn-lg float-end" >+</button>
                        </form> -->
                    </li>
                </ul>
            </div>
        </div>
    <div class="container study-session-tile ">
        <div class="row">
            <div class="row row study-session-attribute">
            <div class="col-4 tile-heading">Topic: <a href="/study-session/{{study_session.study_session_id}}">{{ study_session.topic }}</a></div>
            <!-- <div class="col-3">Date: {{ study_session.proposed_date}}</div> -->
            <div class="col-4 tile-heading">Day and Time (PST): {{ study_session.proposed_time}}</div>
            {% if study_session.capacity %}
            <div class="col-3 tile-heading">Capacity: {{ study_session.capacity }}</div>
            {% endif %}
        </div><br>
        <div class="row">
            <!-- <div class="col">Attending: </div> -->
        </div>
        <div class="row">
            <div class="col-2">
                <a class="username" href="/student/{{study_session.creator.username}}"> 
                {{ study_session.creator.username}}</a><br>
                <a href="/student/{{study_session.creator.username}}"><img src="./{{ study_session.creator.icon_url }}" alt="user icon" style="width:50%"></a>
            </div>
                {% for attendence in study_session.attendences %}
            <div class="col-2">
                <a class="username" href="/student/{{ attendence.student.username}}">
                {{attendence.student.username}}</a><br>
                <a href="/student/{{ attendence.student.username }}"> <img src="./static/Creative-Tail-Animal-dolphin.svg.png" alt="user icon" style="width:50%"> </a><br>   
            </div>
                {% endfor %}
            <div class="col">
                <form action="/join_session/{{study_session.study_session_id}}">
                <button class='float-end' type='submit' >JOIN</button>
                </form>
            </div>
            </div>
        </div>
    </div>
         <!-- Reference trading cards for grid, to make participants overflow to next line as needed -->

    <table>
        <div class="row">
                <form action="/" method="POST">
            <div class="column">
                <label>Resources:</label>
                <div class="resources-section">
                <ul>
                    <li>A resource!</li>
                    <li>Another resource!</li>
                    <li>Wait check this one out too!</li>
                </ul>
                </div>
                
                <div id="add_resource"></div>
                <textarea class="form-control mb-10" rows="5" name="prerequisites_textarea" placeholder="Add a Resource... "></textarea>
                <br>
                <button type="submit" class="primary-btn" name="prerequisites" value="Add" onclick="insert()">Add</button>
                </form>
            </div>
            <div class="column">
                
                <label>Discussion:</label><br>
                <div class="chat-section">
                    <div class="chat-bubble-left col-8">suzieq: "Thanks for joining! We have room for a few more!"</div>
                    <div class="chat-bubble-left col-8">JBland07: "Sweet. I'll invite Maya."</div>
                    <div class="chat-bubble-right col-8">japanpanda: "Where should we meet up?"</div>
                    <div class="chat-bubble-left col-8">suzieq: "How about Malala A on Discord?"</div>
                    <div class="chat-bubble-left col-8">MamaLucia: "Crazy Daisy! I was going to say the same thing! See you all there!"</div>


                </div>

                <form action="/study-session/{{study_session_id}}" method="POST">
                    <div id="add_comment"></div>
                    <div>
                        <h4>
                            Comments
                        </h4>
                        
                        {% for dict_comment in comments %}
                            {{dict_comment}}
                            {% for username, comment in dict_comment.items() %}
                                <p>
                                    <b>{{ username }}:</b> {{ comment }}
                                </p>
                            {% endfor %}
                        {% endfor %}
                    </div>
                    <div>
                        <textarea name="comment" id="comment" placeholder="Write a comment ..." rows="2" cols="35"></textarea>
                    </div>
                    <div>
                        <button onclick="enterMessage()" type="submit" value="Add Comment" name="add_comment" id="add_comment">
                    </div>
                    </div>
                </form>


            </div>
        </div>

    </table>
    <script>
    var stuff = [];
    function enterMessage() {
        var yourName = document.getElementById("name").value,
            yourMessage = document.getElementById("message").value,
            h2 = document.createElement("h2"),
            p = document.createElement("p"),
            theSelection = Number(document.getElementById("theSelect").value);
        h2.innerHTML = yourName;
        p.innerHTML = yourMessage;
        console.log(theSelection)
        if (theSelection === 1) {
            document.getElementById("division").appendChild(h2)
            document.getElementById("division").appendChild(p)
        }
        else {
            document.body.appendChild(h2)
            document.body.appendChild(p)
        }
    }
    </script>
    <!-- <script src="/static/js/events.js"></script> -->

    {% endblock %}