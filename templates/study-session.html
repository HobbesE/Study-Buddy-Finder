{% extends "base.html" %}
{% block content %}
    
    <head>
            <title>
                Hackbrighter Study Session
            </title>
        
            <style>
                
                /* Create two equal columns that floats next to each other */
                .column {
                  float: left;
                  width: 50%;
                  padding: 100px;
                  height: 300px; /* Should be removed. Only for demonstration */
                  flex: 50%;
                }
                
                /* Clear floats after the columns */
                .row {
                  content: "";
                  display: flex;
                }
            </style>
    </head>   
<body>
    <h2>Study Session: {{ study_session.topic }}</h2>
    <div class="container">
        <div class="row">
            <div class="row">
            <div class="col-3">Topic: <a href="/study-session/{{study_session.study_session_id}}">{{ study_session.topic }}</a></div>
            <div class="col-3">Date: {{ study_session.proposed_date}}</div>
            <div class="col-3">Time: {{ study_session.proposed_time}}</div>
            {% if study_session.capacity %}
            <div class="col-3">Capacity: {{ study_session.capacity }}</div>
            {% endif %}
        </div><br>
        <div class="row">
            <div class="col">Participants: </div>
        </div>
        <div class="row">
            <div class="col-2">
                <a href="/student/{{study_session.creator.username}}"> 
                {{ study_session.creator.username}}</a><br>
                <a href="/student/{{study_session.creator.username}}"><img src="{{ study_session.creator.icon_url }}" alt="user icon" style="width:42px;height:42px;"></a>
            </div>
                {% for attendence in study_session.attendences %}
            <div class="col-2">
                <a href="/student/{{ attendence.student.username}}">
                {{attendence.student.username}}</a><br>
                <a href="/student/{{ attendence.student.icon_url }}"> <img src="{{ attendence.student.icon_url}}" alt="user icon" style="width:42px;height:42px;"> </a><br>   
            </div>
                {% endfor %}
            <div class="col">
                <form action="/join_session/{{study_session.study_session_id}}">
                <button class='float-end' type='submit' >JOIN</button>
                </form>
            </div>
            </div>
        </div>
    </div>
    <br>
    <br>
    <br>            <!-- Reference trading cards for grid, to make participants overflow to next line as needed -->

    
    <table>
        <div class="row">
            <div class="column">
                <form action="/" method="POST">
                Study Session Details
                <br>
                <br>
                <label>Prerequisites:</label><br>
                <textarea id="prerequisites" name="prerequisites_textarea">
                    {{study_session.prerequisites}}
                </textarea>
                <br>
                <br>
                <input type="button" name="prerequisites" value="Update" onclick="insert()">
                </form>
            </div>
            <div class="column">
                {{comments}}
                <form action="/study-session/{{study_session}}" method="POST">
                    <Discussion<br><br>
                    <div id="comments">*******COMMENTS GO HERE*******<br><br>
                    <div id="add_comment"><input type="text" name="add_comment" placeholder="Chat here"></div>
                    <input type="submit" name="comments" value="Post" onclick="insert()">
                    </div>

                </form>


            </div>
        </div>

    </table>
    {% endblock %}